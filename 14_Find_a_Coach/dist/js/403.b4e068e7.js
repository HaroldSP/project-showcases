"use strict";(self["webpackChunkvue_first_app"]=self["webpackChunkvue_first_app"]||[]).push([[403],{9403:function(t,i,e){e.r(i),e.d(i,{default:function(){return f}});var o=e(6252),s=e(3577),a=e(9963);const r=t=>((0,o.dD)("data-v-cc1e7e4c"),t=t(),(0,o.Cn)(),t),n={class:"form-control"},l=r((()=>(0,o._)("label",{for:"email"},"E-Mail",-1))),d={class:"form-control"},u=r((()=>(0,o._)("label",{for:"password"},"Password",-1))),m={key:0};function c(t,i,e,r,c,h){const p=(0,o.up)("base-dialog"),w=(0,o.up)("base-spinner"),f=(0,o.up)("base-button"),g=(0,o.up)("base-card");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(p,{show:!!c.error,title:"An error occured.",onClose:h.handleError},{default:(0,o.w5)((()=>[(0,o._)("p",null,(0,s.zw)(c.error),1)])),_:1},8,["show","onClose"]),(0,o.Wm)(p,{show:c.isLoading,title:"Authenticating...",fixed:""},{default:(0,o.w5)((()=>[(0,o.Wm)(w)])),_:1},8,["show"]),(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o._)("form",{onSubmit:i[2]||(i[2]=(0,a.iM)(((...t)=>h.submitForm&&h.submitForm(...t)),["prevent"]))},[(0,o._)("div",n,[l,(0,o.wy)((0,o._)("input",{type:"email",id:"email","onUpdate:modelValue":i[0]||(i[0]=t=>c.email=t)},null,512),[[a.nr,c.email,void 0,{trim:!0}]])]),(0,o._)("div",d,[u,(0,o.wy)((0,o._)("input",{type:"password",id:"password","onUpdate:modelValue":i[1]||(i[1]=t=>c.password=t)},null,512),[[a.nr,c.password,void 0,{trim:!0}]])]),c.formIsValid?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",m," Please enter a valid email and password (must be at least 6 characters long) ")),(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(h.submitButtonCaption),1)])),_:1}),(0,o.Wm)(f,{type:"button",mode:"flat",onClick:h.switchAuthMode},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(h.switchModeButtonCaption),1)])),_:1},8,["onClick"])],32)])),_:1})])}var h={data(){return{email:"",password:"",formIsValid:!0,mode:"login",isLoading:!1,error:null}},computed:{submitButtonCaption(){return"login"===this.mode?"Login":"Signup"},switchModeButtonCaption(){return"login"===this.mode?"Signup instead":"Login instead"}},methods:{async submitForm(){if(this.formIsValid=!0,""===this.email||!this.email.includes("@")||this.password.length<6)return void(this.formIsValid=!1);this.isLoading=!0;const t={email:this.email,password:this.password};try{"login"===this.mode?await this.$store.dispatch("login",t):await this.$store.dispatch("signup",t);const i="/"+(this.$route.query.redirect||"coaches");this.$router.replace(i)}catch(i){this.error=i.message||"Failed to authenticate, try later."}this.isLoading=!1},switchAuthMode(){"login"===this.mode?this.mode="signup":this.mode="login"},handleError(){this.error=null}}},p=e(3744);const w=(0,p.Z)(h,[["render",c],["__scopeId","data-v-cc1e7e4c"]]);var f=w}}]);
//# sourceMappingURL=403.b4e068e7.js.map